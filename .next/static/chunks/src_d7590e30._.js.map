{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/hooks/use-toast.ts"],"sourcesContent":["\"use client\"\n\n// Inspired by react-hot-toast library\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":";;;;;;;;AAEA,sCAAsC;AACtC;;AAHA;;AAUA,MAAM,cAAc;AACpB,MAAM,qBAAqB;AAS3B,MAAM,cAAc;IAClB,WAAW;IACX,cAAc;IACd,eAAe;IACf,cAAc;AAChB;AAEA,IAAI,QAAQ;AAEZ,SAAS;IACP,QAAQ,CAAC,QAAQ,CAAC,IAAI,OAAO,gBAAgB;IAC7C,OAAO,MAAM,QAAQ;AACvB;AA0BA,MAAM,gBAAgB,IAAI;AAE1B,MAAM,mBAAmB,CAAC;IACxB,IAAI,cAAc,GAAG,CAAC,UAAU;QAC9B;IACF;IAEA,MAAM,UAAU,WAAW;QACzB,cAAc,MAAM,CAAC;QACrB,SAAS;YACP,MAAM;YACN,SAAS;QACX;IACF,GAAG;IAEH,cAAc,GAAG,CAAC,SAAS;AAC7B;AAEO,MAAM,UAAU,CAAC,OAAc;IACpC,OAAQ,OAAO,IAAI;QACjB,KAAK;YACH,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ;oBAAC,OAAO,KAAK;uBAAK,MAAM,MAAM;iBAAC,CAAC,KAAK,CAAC,GAAG;YACnD;QAEF,KAAK;YACH,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,IACxB,EAAE,EAAE,KAAK,OAAO,KAAK,CAAC,EAAE,GAAG;wBAAE,GAAG,CAAC;wBAAE,GAAG,OAAO,KAAK;oBAAC,IAAI;YAE3D;QAEF,KAAK;YAAiB;gBACpB,MAAM,EAAE,OAAO,EAAE,GAAG;gBAEpB,2EAA2E;gBAC3E,uCAAuC;gBACvC,IAAI,SAAS;oBACX,iBAAiB;gBACnB,OAAO;oBACL,MAAM,MAAM,CAAC,OAAO,CAAC,CAAC;wBACpB,iBAAiB,MAAM,EAAE;oBAC3B;gBACF;gBAEA,OAAO;oBACL,GAAG,KAAK;oBACR,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,IACxB,EAAE,EAAE,KAAK,WAAW,YAAY,YAC5B;4BACE,GAAG,CAAC;4BACJ,MAAM;wBACR,IACA;gBAER;YACF;QACA,KAAK;YACH,IAAI,OAAO,OAAO,KAAK,WAAW;gBAChC,OAAO;oBACL,GAAG,KAAK;oBACR,QAAQ,EAAE;gBACZ;YACF;YACA,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ,MAAM,MAAM,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,OAAO,OAAO;YAC5D;IACJ;AACF;AAEA,MAAM,YAA2C,EAAE;AAEnD,IAAI,cAAqB;IAAE,QAAQ,EAAE;AAAC;AAEtC,SAAS,SAAS,MAAc;IAC9B,cAAc,QAAQ,aAAa;IACnC,UAAU,OAAO,CAAC,CAAC;QACjB,SAAS;IACX;AACF;AAIA,SAAS,MAAM,KAAmB;QAAnB,EAAE,GAAG,OAAc,GAAnB;IACb,MAAM,KAAK;IAEX,MAAM,SAAS,CAAC,QACd,SAAS;YACP,MAAM;YACN,OAAO;gBAAE,GAAG,KAAK;gBAAE;YAAG;QACxB;IACF,MAAM,UAAU,IAAM,SAAS;YAAE,MAAM;YAAiB,SAAS;QAAG;IAEpE,SAAS;QACP,MAAM;QACN,OAAO;YACL,GAAG,KAAK;YACR;YACA,MAAM;YACN,cAAc,CAAC;gBACb,IAAI,CAAC,MAAM;YACb;QACF;IACF;IAEA,OAAO;QACL,IAAI;QACJ;QACA;IACF;AACF;AAEA,SAAS;;IACP,MAAM,CAAC,OAAO,SAAS,GAAG,yKAAc,CAAQ;IAEhD,0KAAe;8BAAC;YACd,UAAU,IAAI,CAAC;YACf;sCAAO;oBACL,MAAM,QAAQ,UAAU,OAAO,CAAC;oBAChC,IAAI,QAAQ,CAAC,GAAG;wBACd,UAAU,MAAM,CAAC,OAAO;oBAC1B;gBACF;;QACF;6BAAG;QAAC;KAAM;IAEV,OAAO;QACL,GAAG,KAAK;QACR;QACA,SAAS,CAAC,UAAqB,SAAS;gBAAE,MAAM;gBAAiB;YAAQ;IAC3E;AACF;GAlBS","debugId":null}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/components/ui/toast.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,gBAAgB,gLAAwB;AAE9C,MAAM,8BAAgB,2KAAgB,MAGpC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,gLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,qIACA;QAED,GAAG,KAAK;;;;;;;;AAGb,cAAc,WAAW,GAAG,gLAAwB,CAAC,WAAW;AAEhE,MAAM,gBAAgB,IAAA,0KAAG,EACvB,6lBACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,2KAAgB,OAI5B,QAAmC;QAAlC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO;IACjC,qBACE,6LAAC,4KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;;AACA,MAAM,WAAW,GAAG,4KAAoB,CAAC,WAAW;AAEpD,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,8KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,sgBACA;QAED,GAAG,KAAK;;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAsB,CAAC,WAAW;AAE5D,MAAM,2BAAa,2KAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,6KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,yVACA;QAEF,eAAY;QACX,GAAG,KAAK;kBAET,cAAA,6LAAC,oMAAC;YAAC,WAAU;;;;;;;;;;;;;AAGjB,WAAW,WAAW,GAAG,6KAAqB,CAAC,WAAW;AAE1D,MAAM,2BAAa,2KAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,6KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG,6KAAqB,CAAC,WAAW;AAE1D,MAAM,iCAAmB,2KAAgB,QAGvC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,mLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,sBAAsB;QACnC,GAAG,KAAK;;;;;;;;AAGb,iBAAiB,WAAW,GAAG,mLAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/components/ui/toaster.tsx"],"sourcesContent":["\"use client\"\n\nimport { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAYO,SAAS;;IACd,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,2IAAQ;IAE3B,qBACE,6LAAC,qJAAa;;YACX,OAAO,GAAG,CAAC,SAAU,KAA4C;oBAA5C,EAAE,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,OAAO,GAA5C;gBACpB,qBACE,6LAAC,6IAAK;oBAAW,GAAG,KAAK;;sCACvB,6LAAC;4BAAI,WAAU;;gCACZ,uBAAS,6LAAC,kJAAU;8CAAE;;;;;;gCACtB,6BACC,6LAAC,wJAAgB;8CAAE;;;;;;;;;;;;wBAGtB;sCACD,6LAAC,kJAAU;;;;;;mBARD;;;;;YAWhB;0BACA,6LAAC,qJAAa;;;;;;;;;;;AAGpB;GAtBgB;;QACK,2IAAQ;;;KADb","debugId":null}},
    {"offset": {"line": 434, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/firebase/error-emitter.ts"],"sourcesContent":["'use client';\nimport { FirestorePermissionError } from '@/firebase/errors';\n\n/**\n * Defines the shape of all possible events and their corresponding payload types.\n * This centralizes event definitions for type safety across the application.\n */\nexport interface AppEvents {\n  'permission-error': FirestorePermissionError;\n}\n\n// A generic type for a callback function.\ntype Callback<T> = (data: T) => void;\n\n/**\n * A strongly-typed pub/sub event emitter.\n * It uses a generic type T that extends a record of event names to payload types.\n */\nfunction createEventEmitter<T extends Record<string, any>>() {\n  // The events object stores arrays of callbacks, keyed by event name.\n  // The types ensure that a callback for a specific event matches its payload type.\n  const events: { [K in keyof T]?: Array<Callback<T[K]>> } = {};\n\n  return {\n    /**\n     * Subscribe to an event.\n     * @param eventName The name of the event to subscribe to.\n     * @param callback The function to call when the event is emitted.\n     */\n    on<K extends keyof T>(eventName: K, callback: Callback<T[K]>) {\n      if (!events[eventName]) {\n        events[eventName] = [];\n      }\n      events[eventName]?.push(callback);\n    },\n\n    /**\n     * Unsubscribe from an event.\n     * @param eventName The name of the event to unsubscribe from.\n     * @param callback The specific callback to remove.\n     */\n    off<K extends keyof T>(eventName: K, callback: Callback<T[K]>) {\n      if (!events[eventName]) {\n        return;\n      }\n      events[eventName] = events[eventName]?.filter(cb => cb !== callback);\n    },\n\n    /**\n     * Publish an event to all subscribers.\n     * @param eventName The name of the event to emit.\n     * @param data The data payload that corresponds to the event's type.\n     */\n    emit<K extends keyof T>(eventName: K, data: T[K]) {\n      if (!events[eventName]) {\n        return;\n      }\n      events[eventName]?.forEach(callback => callback(data));\n    },\n  };\n}\n\n// Create and export a singleton instance of the emitter, typed with our AppEvents interface.\nexport const errorEmitter = createEventEmitter<AppEvents>();\n"],"names":[],"mappings":";;;;AAAA;AAcA;;;CAGC,GACD,SAAS;IACP,qEAAqE;IACrE,kFAAkF;IAClF,MAAM,SAAqD,CAAC;IAE5D,OAAO;QACL;;;;KAIC,GACD,IAAsB,SAAY,EAAE,QAAwB;gBAI1D;YAHA,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;gBACtB,MAAM,CAAC,UAAU,GAAG,EAAE;YACxB;aACA,oBAAA,MAAM,CAAC,UAAU,cAAjB,wCAAA,kBAAmB,IAAI,CAAC;QAC1B;QAEA;;;;KAIC,GACD,KAAuB,SAAY,EAAE,QAAwB;gBAIvC;YAHpB,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;gBACtB;YACF;YACA,MAAM,CAAC,UAAU,IAAG,oBAAA,MAAM,CAAC,UAAU,cAAjB,wCAAA,kBAAmB,MAAM,CAAC,CAAA,KAAM,OAAO;QAC7D;QAEA;;;;KAIC,GACD,MAAwB,SAAY,EAAE,IAAU;gBAI9C;YAHA,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;gBACtB;YACF;aACA,oBAAA,MAAM,CAAC,UAAU,cAAjB,wCAAA,kBAAmB,OAAO,CAAC,CAAA,WAAY,SAAS;QAClD;IACF;AACF;AAGO,MAAM,eAAe","debugId":null}},
    {"offset": {"line": 490, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/components/FirebaseErrorListener.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { errorEmitter } from '@/firebase/error-emitter';\nimport { FirestorePermissionError } from '@/firebase/errors';\n\n/**\n * An invisible component that listens for globally emitted 'permission-error' events.\n * It throws any received error to be caught by Next.js's global-error.tsx.\n */\nexport default function FirebaseErrorListener() {\n  // Use the specific error type for the state for type safety.\n  const [error, setError] = useState<FirestorePermissionError | null>(null);\n\n  useEffect(() => {\n    // The callback now expects a strongly-typed error, matching the event payload.\n    const handleError = (error: FirestorePermissionError) => {\n      // Set error in state to trigger a re-render.\n      setError(error);\n    };\n\n    // The typed emitter will enforce that the callback for 'permission-error'\n    // matches the expected payload type (FirestorePermissionError).\n    errorEmitter.on('permission-error', handleError);\n\n    // Unsubscribe on unmount to prevent memory leaks.\n    return () => {\n      errorEmitter.off('permission-error', handleError);\n    };\n  }, []);\n\n  // On re-render, if an error exists in state, throw it.\n  if (error) {\n    throw error;\n  }\n\n  // This component renders nothing.\n  return null;\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAUe,SAAS;;IACtB,6DAA6D;IAC7D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAkC;IAEpE,IAAA,0KAAS;2CAAC;YACR,+EAA+E;YAC/E,MAAM;+DAAc,CAAC;oBACnB,6CAA6C;oBAC7C,SAAS;gBACX;;YAEA,0EAA0E;YAC1E,gEAAgE;YAChE,sJAAY,CAAC,EAAE,CAAC,oBAAoB;YAEpC,kDAAkD;YAClD;mDAAO;oBACL,sJAAY,CAAC,GAAG,CAAC,oBAAoB;gBACvC;;QACF;0CAAG,EAAE;IAEL,uDAAuD;IACvD,IAAI,OAAO;QACT,MAAM;IACR;IAEA,kCAAkC;IAClC,OAAO;AACT;GA5BwB;KAAA","debugId":null}},
    {"offset": {"line": 542, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/firebase/provider.utils.ts"],"sourcesContent":["// src/firebase/provider.utils.ts\nimport { useMemo } from \"react\";\n\n/**\n * Safely memoizes any object.\n * Returns null if target is null/undefined.\n *\n * @template T - Type of the object to memoize\n * @param target - The object to memoize (can be null/undefined)\n * @param key - Unique key for memoization\n * @param deps - Optional dependency array\n * @returns The memoized object with internal properties, or null if target is null\n */\nexport function useMemoFirebase<T extends object>(\n  factory: () => T | null | undefined,\n  deps: unknown[] = [],\n  key?: string,\n): (T & { __memo: true; __key: string }) | null {\n  return useMemo(() => {\n    const target = factory();\n    if (!target || typeof target !== \"object\") {\n      return null;\n    }\n\n    const memoKey = key ?? \"default\";\n\n    if (!(target as any).__memo) {\n      Object.defineProperties(target, {\n        __memo: { value: true, writable: false, configurable: false },\n        __key: { value: memoKey, writable: false, configurable: false },\n      });\n    }\n\n    return target as T & { __memo: true; __key: string };\n  }, [...deps, key]);\n}\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;AACjC;;;AAYO,SAAS,gBACd,OAAmC;QACnC,OAAA,iEAAkB,EAAE,EACpB;;IAEA,OAAO,IAAA,wKAAO;mCAAC;YACb,MAAM,SAAS;YACf,IAAI,CAAC,UAAU,OAAO,WAAW,UAAU;gBACzC,OAAO;YACT;YAEA,MAAM,UAAU,gBAAA,iBAAA,MAAO;YAEvB,IAAI,CAAC,AAAC,OAAe,MAAM,EAAE;gBAC3B,OAAO,gBAAgB,CAAC,QAAQ;oBAC9B,QAAQ;wBAAE,OAAO;wBAAM,UAAU;wBAAO,cAAc;oBAAM;oBAC5D,OAAO;wBAAE,OAAO;wBAAS,UAAU;wBAAO,cAAc;oBAAM;gBAChE;YACF;YAEA,OAAO;QACT;kCAAG;WAAI;QAAM;KAAI;AACnB;GAtBgB","debugId":null}},
    {"offset": {"line": 589, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/firebase/provider.tsx"],"sourcesContent":["'use client';\n\nimport React, {\n  createContext,\n  useContext,\n  ReactNode,\n  useMemo,\n  useState,\n  useEffect,\n} from 'react';\nimport { FirebaseApp } from 'firebase/app';\nimport { Firestore } from 'firebase/firestore';\nimport { Auth, User, onAuthStateChanged } from 'firebase/auth';\nimport FirebaseErrorListener from '@/components/FirebaseErrorListener';\n// Note: custom provider utils are re-exported at the file bottom.\n\ninterface FirebaseProviderProps {\n  children: ReactNode;\n  firebaseApp: FirebaseApp;\n  firestore: Firestore;\n  auth: Auth;\n}\n\ninterface UserAuthState {\n  user: User | null;\n  isUserLoading: boolean;\n  userError: Error | null;\n}\n\nexport interface FirebaseContextState {\n  areServicesAvailable: boolean;\n  firebaseApp: FirebaseApp | null;\n  firestore: Firestore | null;\n  auth: Auth | null;\n  user: User | null;\n  isUserLoading: boolean;\n  userError: Error | null;\n}\n\nexport const FirebaseContext = createContext<FirebaseContextState | undefined>(\n  undefined\n);\n\nexport const FirebaseProvider: React.FC<FirebaseProviderProps> = ({\n  children,\n  firebaseApp,\n  firestore,\n  auth,\n}) => {\n  const [userAuthState, setUserAuthState] = useState<UserAuthState>({\n    user: null,\n    isUserLoading: true,\n    userError: null,\n  });\n\n  // Subscribe to auth state once\n  useEffect(() => {\n    if (!auth) {\n      setUserAuthState({\n        user: null,\n        isUserLoading: false,\n        userError: new Error('Auth service not provided.'),\n      });\n      return;\n    }\n\n    setUserAuthState({ user: null, isUserLoading: true, userError: null });\n\n    const unsubscribe = onAuthStateChanged(\n      auth,\n      (firebaseUser) =>\n        setUserAuthState({ user: firebaseUser, isUserLoading: false, userError: null }),\n      (error) =>\n        setUserAuthState({ user: null, isUserLoading: false, userError: error })\n    );\n\n    return () => unsubscribe();\n  }, [auth]);\n\n  const contextValue = useMemo<FirebaseContextState>(() => {\n    const available = !!(firebaseApp && firestore && auth);\n    return {\n      areServicesAvailable: available,\n      firebaseApp: available ? firebaseApp : null,\n      firestore: available ? firestore : null,\n      auth: available ? auth : null,\n      user: userAuthState.user,\n      isUserLoading: userAuthState.isUserLoading,\n      userError: userAuthState.userError,\n    };\n  }, [firebaseApp, firestore, auth, userAuthState]);\n\n  return (\n    <FirebaseContext.Provider value={contextValue}>\n      <FirebaseErrorListener />\n      {children}\n    </FirebaseContext.Provider>\n  );\n};\n\n// Main hook for Firebase + auth state\nexport const useFirebase = () => {\n  const context = useContext(FirebaseContext);\n  if (!context)\n    throw new Error('useFirebase must be used within FirebaseProvider.');\n  if (!context.areServicesAvailable || !context.firebaseApp || !context.firestore || !context.auth)\n    throw new Error('Firebase core services not available.');\n  return context;\n};\n\nexport const useAuth = () => useFirebase().auth!;\nexport const useFirestore = () => useFirebase().firestore!;\nexport const useFirebaseApp = () => useFirebase().firebaseApp!;\n\nexport const useUserAuth = () => {\n  const { user, isUserLoading, userError } = useFirebase();\n  return { user, isUserLoading, userError };\n};\n\n// Re-exporting from the new utility file\nexport * from './provider.utils';\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;AAUA;AAAA;AACA;AA0GA,yCAAyC;AACzC;;;AAxHA;;;;AAuCO,MAAM,gCAAkB,IAAA,8KAAa,EAC1C;AAGK,MAAM,mBAAoD;QAAC,EAChE,QAAQ,EACR,WAAW,EACX,SAAS,EACT,IAAI,EACL;;IACC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAgB;QAChE,MAAM;QACN,eAAe;QACf,WAAW;IACb;IAEA,+BAA+B;IAC/B,IAAA,0KAAS;sCAAC;YACR,IAAI,CAAC,MAAM;gBACT,iBAAiB;oBACf,MAAM;oBACN,eAAe;oBACf,WAAW,IAAI,MAAM;gBACvB;gBACA;YACF;YAEA,iBAAiB;gBAAE,MAAM;gBAAM,eAAe;gBAAM,WAAW;YAAK;YAEpE,MAAM,cAAc,IAAA,mNAAkB,EACpC;0DACA,CAAC,eACC,iBAAiB;wBAAE,MAAM;wBAAc,eAAe;wBAAO,WAAW;oBAAK;;0DAC/E,CAAC,QACC,iBAAiB;wBAAE,MAAM;wBAAM,eAAe;wBAAO,WAAW;oBAAM;;YAG1E;8CAAO,IAAM;;QACf;qCAAG;QAAC;KAAK;IAET,MAAM,eAAe,IAAA,wKAAO;kDAAuB;YACjD,MAAM,YAAY,CAAC,CAAC,CAAC,eAAe,aAAa,IAAI;YACrD,OAAO;gBACL,sBAAsB;gBACtB,aAAa,YAAY,cAAc;gBACvC,WAAW,YAAY,YAAY;gBACnC,MAAM,YAAY,OAAO;gBACzB,MAAM,cAAc,IAAI;gBACxB,eAAe,cAAc,aAAa;gBAC1C,WAAW,cAAc,SAAS;YACpC;QACF;iDAAG;QAAC;QAAa;QAAW;QAAM;KAAc;IAEhD,qBACE,6LAAC,gBAAgB,QAAQ;QAAC,OAAO;;0BAC/B,6LAAC,yJAAqB;;;;;YACrB;;;;;;;AAGP;GAvDa;KAAA;AA0DN,MAAM,cAAc;;IACzB,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SACH,MAAM,IAAI,MAAM;IAClB,IAAI,CAAC,QAAQ,oBAAoB,IAAI,CAAC,QAAQ,WAAW,IAAI,CAAC,QAAQ,SAAS,IAAI,CAAC,QAAQ,IAAI,EAC9F,MAAM,IAAI,MAAM;IAClB,OAAO;AACT;IAPa;AASN,MAAM,UAAU;;IAAM,OAAA,cAAc,IAAI;AAAD;IAAjC;;QAAgB;;;AACtB,MAAM,eAAe;;IAAM,OAAA,cAAc,SAAS;AAAD;IAA3C;;QAAqB;;;AAC3B,MAAM,iBAAiB;;IAAM,OAAA,cAAc,WAAW;AAAD;IAA/C;;QAAuB;;;AAE7B,MAAM,cAAc;;IACzB,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE,SAAS,EAAE,GAAG;IAC3C,OAAO;QAAE;QAAM;QAAe;IAAU;AAC1C;IAHa;;QACgC","debugId":null}},
    {"offset": {"line": 759, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/firebase/config.ts"],"sourcesContent":["export const firebaseConfig = {\n  \"projectId\": \"studio-42574481-4c342\",\n  \"appId\": \"1:113127004618:web:7d9409b0a4d71a11b7d733\",\n  \"apiKey\": \"AIzaSyBZ2DpYgQGmD9aQKqxUaWD9dva7CaluV0c\",\n  \"authDomain\": \"studio-42574481-4c342.firebaseapp.com\",\n  \"measurementId\": \"\",\n  \"messagingSenderId\": \"113127004618\"\n};\n"],"names":[],"mappings":";;;;AAAO,MAAM,iBAAiB;IAC5B,aAAa;IACb,SAAS;IACT,UAAU;IACV,cAAc;IACd,iBAAiB;IACjB,qBAAqB;AACvB","debugId":null}},
    {"offset": {"line": 778, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/firebase/firestore/firestore-store.ts"],"sourcesContent":["'use client';\nimport { useSyncExternalStore } from 'react';\n\ntype Subscriber = () => void;\n\nexport interface StoreSnapshot<T> {\n  data: T | null;\n  loading: boolean;\n  error: Error | null;\n}\n\nexport interface FirestoreStore<T> {\n  subscribe: (callback: Subscriber) => () => void;\n  getSnapshot: () => StoreSnapshot<T>;\n}\n\n// Internal map to cache stores by key\nconst storeCache = new Map<string, FirestoreStore<any>>();\n\n/**\n * Returns a stable store for a given Firestore document.\n * Caches the store internally by `key` to ensure `useSyncExternalStore` stability.\n *\n * @param key Unique identifier for the store (usually the memoized doc.__key)\n * @param subscribeFn Function that subscribes to Firestore updates\n * @returns FirestoreStore<T>\n */\nexport function getStore<T>(\n  key: string,\n  subscribeFn: (onNext: (data: T | null) => void, onError: (err: Error) => void) => () => void\n): FirestoreStore<T> {\n  if (storeCache.has(key)) {\n    return storeCache.get(key)!;\n  }\n\n  // Internal snapshot state\n  let snapshot: StoreSnapshot<T> = {\n    data: null,\n    loading: true,\n    error: null,\n  };\n\n  const listeners = new Set<Subscriber>();\n  let unsubscribe: (() => void) | null = null;\n\n  const emit = () => {\n    listeners.forEach((l) => l());\n  };\n  \n  const store: FirestoreStore<T> = {\n    subscribe: (callback: Subscriber) => {\n      listeners.add(callback);\n\n      // Subscribe to Firestore when the first listener appears\n      if (listeners.size === 1) {\n        unsubscribe = subscribeFn(\n          (data) => {\n            snapshot = { data, loading: false, error: null };\n            emit();\n          },\n          (error) => {\n            snapshot = { data: null, loading: false, error };\n            emit();\n          }\n        );\n      }\n      \n      // Cleanup when last listener unsubscribes\n      return () => {\n        listeners.delete(callback);\n        if (listeners.size === 0 && unsubscribe) {\n          unsubscribe();\n          unsubscribe = null;\n          // When the last component unmounts, we should remove the store from the cache.\n          // This ensures that on re-mount, a fresh subscription is created.\n          storeCache.delete(key); \n        }\n      };\n    },\n\n    getSnapshot: () => snapshot,\n  };\n\n  storeCache.set(key, store);\n\n  return store;\n}\n"],"names":[],"mappings":";;;;AAAA;AAgBA,sCAAsC;AACtC,MAAM,aAAa,IAAI;AAUhB,SAAS,SACd,GAAW,EACX,WAA4F;IAE5F,IAAI,WAAW,GAAG,CAAC,MAAM;QACvB,OAAO,WAAW,GAAG,CAAC;IACxB;IAEA,0BAA0B;IAC1B,IAAI,WAA6B;QAC/B,MAAM;QACN,SAAS;QACT,OAAO;IACT;IAEA,MAAM,YAAY,IAAI;IACtB,IAAI,cAAmC;IAEvC,MAAM,OAAO;QACX,UAAU,OAAO,CAAC,CAAC,IAAM;IAC3B;IAEA,MAAM,QAA2B;QAC/B,WAAW,CAAC;YACV,UAAU,GAAG,CAAC;YAEd,yDAAyD;YACzD,IAAI,UAAU,IAAI,KAAK,GAAG;gBACxB,cAAc,YACZ,CAAC;oBACC,WAAW;wBAAE;wBAAM,SAAS;wBAAO,OAAO;oBAAK;oBAC/C;gBACF,GACA,CAAC;oBACC,WAAW;wBAAE,MAAM;wBAAM,SAAS;wBAAO;oBAAM;oBAC/C;gBACF;YAEJ;YAEA,0CAA0C;YAC1C,OAAO;gBACL,UAAU,MAAM,CAAC;gBACjB,IAAI,UAAU,IAAI,KAAK,KAAK,aAAa;oBACvC;oBACA,cAAc;oBACd,+EAA+E;oBAC/E,kEAAkE;oBAClE,WAAW,MAAM,CAAC;gBACpB;YACF;QACF;QAEA,aAAa,IAAM;IACrB;IAEA,WAAW,GAAG,CAAC,KAAK;IAEpB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 845, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/firebase/firestore/firestore-dev-guards.ts"],"sourcesContent":["export function assertMemoized(target: any) {\n  if (process.env.NODE_ENV === 'production') return;\n\n  if (!target || !target.__memo) {\n    throw new Error(\n      '‚ùå Firestore query/reference MUST be memoized using useMemoFirebase.\\n' +\n      'This prevents infinite re-subscriptions and render loops.'\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AACM;AADC,SAAS,eAAe,MAAW;IACxC;;IAEA,IAAI,CAAC,UAAU,CAAC,OAAO,MAAM,EAAE;QAC7B,MAAM,IAAI,MACR,0EACA;IAEJ;AACF","debugId":null}},
    {"offset": {"line": 864, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/firebase/firestore/use-collection.tsx"],"sourcesContent":["'use client';\n\nimport { useMemo } from 'react';\nimport { useSyncExternalStore } from 'react';\nimport {\n  Query,\n  CollectionReference,\n  DocumentData,\n  onSnapshot,\n} from 'firebase/firestore';\n\nimport { getStore } from './firestore-store';\nimport { assertMemoized } from './firestore-dev-guards';\n\nexport interface UseCollectionResult<T> {\n  data: (T & { id: string })[] | null;\n  isLoading: boolean;\n  error: Error | null;\n}\n\nconst EMPTY_SNAPSHOT = { data: null, error: null, loading: false };\n\nconst EMPTY_STORE = {\n  subscribe: () => () => {},\n  getSnapshot: () => EMPTY_SNAPSHOT,\n};\n\nexport function useCollection<T>(\n  target:\n    | ((Query<DocumentData> | CollectionReference<DocumentData>) & {\n        __memo: true;\n        __key: string;\n      })\n    | null,\n): UseCollectionResult<T> {\n  const store = useMemo(() => {\n    if (!target) {\n      return EMPTY_STORE;\n    }\n    assertMemoized(target);\n    return getStore<(T & { id: string })[]>(\n      target.__key,\n      (onNext, onError) =>\n        onSnapshot(\n          target,\n          (snap) =>\n            onNext(\n              snap.docs.map((d) => ({\n                ...(d.data() as T),\n                id: d.id,\n              })),\n            ),\n          onError,\n        ),\n    );\n  }, [target]);\n\n  const snap = useSyncExternalStore(\n    store.subscribe,\n    store.getSnapshot,\n    store.getSnapshot,\n  );\n\n  return {\n    data: snap.data,\n    isLoading: snap.loading,\n    error: snap.error,\n  };\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAAA;AAOA;AACA;;AAZA;;;;;;AAoBA,MAAM,iBAAiB;IAAE,MAAM;IAAM,OAAO;IAAM,SAAS;AAAM;AAEjE,MAAM,cAAc;IAClB,WAAW,IAAM,KAAO;IACxB,aAAa,IAAM;AACrB;AAEO,SAAS,cACd,MAKQ;;IAER,MAAM,QAAQ,IAAA,wKAAO;wCAAC;YACpB,IAAI,CAAC,QAAQ;gBACX,OAAO;YACT;YACA,IAAA,+KAAc,EAAC;YACf,OAAO,IAAA,iKAAQ,EACb,OAAO,KAAK;gDACZ,CAAC,QAAQ,UACP,IAAA,oLAAU,EACR;wDACA,CAAC,OACC,OACE,KAAK,IAAI,CAAC,GAAG;gEAAC,CAAC,IAAM,CAAC;wCACpB,GAAI,EAAE,IAAI,EAAE;wCACZ,IAAI,EAAE,EAAE;oCACV,CAAC;;uDAEL;;QAGR;uCAAG;QAAC;KAAO;IAEX,MAAM,OAAO,IAAA,qLAAoB,EAC/B,MAAM,SAAS,EACf,MAAM,WAAW,EACjB,MAAM,WAAW;IAGnB,OAAO;QACL,MAAM,KAAK,IAAI;QACf,WAAW,KAAK,OAAO;QACvB,OAAO,KAAK,KAAK;IACnB;AACF;GAzCgB;;QA8BD,qLAAoB","debugId":null}},
    {"offset": {"line": 930, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/firebase/firestore/use-doc.tsx"],"sourcesContent":["'use client';\n\nimport { useMemo } from 'react';\nimport { useSyncExternalStore } from 'react';\nimport {\n  DocumentReference,\n  DocumentData,\n  onSnapshot,\n} from 'firebase/firestore';\n\nimport { getStore } from './firestore-store';\nimport { assertMemoized } from './firestore-dev-guards';\n\nexport interface UseDocResult<T> {\n  data: (T & { id: string }) | null;\n  isLoading: boolean;\n  error: Error | null;\n}\n\nconst EMPTY_SNAPSHOT = { data: null, loading: false, error: null };\n\nconst EMPTY_STORE = {\n  subscribe: () => () => {},\n  getSnapshot: () => EMPTY_SNAPSHOT,\n};\n\nexport function useDoc<T>(\n  target: (DocumentReference<DocumentData> & { __memo: true; __key: string }) | null\n): UseDocResult<T> {\n  const store = useMemo(() => {\n    if (!target) return EMPTY_STORE;\n\n    assertMemoized(target);\n\n    return getStore<(T & { id: string }) | null>(target.__key, (onNext, onError) =>\n      onSnapshot(\n        target,\n        (snap) =>\n          onNext(\n            snap.exists() ? ({ ...(snap.data() as T), id: snap.id } as any) : null\n          ),\n        onError\n      )\n    );\n  }, [target]);\n\n  const snap = useSyncExternalStore(store.subscribe, store.getSnapshot, store.getSnapshot);\n\n  return {\n    data: snap.data,\n    isLoading: snap.loading,\n    error: snap.error,\n  };\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAAA;AAMA;AACA;;AAXA;;;;;;AAmBA,MAAM,iBAAiB;IAAE,MAAM;IAAM,SAAS;IAAO,OAAO;AAAK;AAEjE,MAAM,cAAc;IAClB,WAAW,IAAM,KAAO;IACxB,aAAa,IAAM;AACrB;AAEO,SAAS,OACd,MAAkF;;IAElF,MAAM,QAAQ,IAAA,wKAAO;iCAAC;YACpB,IAAI,CAAC,QAAQ,OAAO;YAEpB,IAAA,+KAAc,EAAC;YAEf,OAAO,IAAA,iKAAQ,EAA8B,OAAO,KAAK;yCAAE,CAAC,QAAQ,UAClE,IAAA,oLAAU,EACR;iDACA,CAAC,OACC,OACE,KAAK,MAAM,KAAM;gCAAE,GAAI,KAAK,IAAI,EAAE;gCAAQ,IAAI,KAAK,EAAE;4BAAC,IAAY;gDAEtE;;QAGN;gCAAG;QAAC;KAAO;IAEX,MAAM,OAAO,IAAA,qLAAoB,EAAC,MAAM,SAAS,EAAE,MAAM,WAAW,EAAE,MAAM,WAAW;IAEvF,OAAO;QACL,MAAM,KAAK,IAAI;QACf,WAAW,KAAK,OAAO;QACvB,OAAO,KAAK,KAAK;IACnB;AACF;GA3BgB;;QAoBD,qLAAoB","debugId":null}},
    {"offset": {"line": 992, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/firebase/auth/use-user.tsx"],"sourcesContent":["'use client';\n\nimport { doc } from 'firebase/firestore';\nimport { useFirestore, useUserAuth } from '../provider';\nimport { useMemoFirebase } from '../provider.utils';\nimport { useDoc } from '../firestore/use-doc';\nimport type { UserProfile } from '@/lib/types';\nimport type { User } from 'firebase/auth';\n\ntype UseUserReturn = {\n  user: (User & UserProfile) | null;\n  loading: boolean;\n};\n\nexport function useUser(): UseUserReturn {\n  const firestore = useFirestore();\n  const { user, isUserLoading } = useUserAuth();\n\n  const userProfileRef = useMemoFirebase(\n    () => (user ? doc(firestore, 'users', user.uid) : null),\n    [user, firestore],\n    'userProfileRef'\n  );\n  \n  const { data: userProfile, isLoading: profileLoading } = useDoc<UserProfile>(\n    userProfileRef\n  );\n\n  const loading = isUserLoading || (!!user && profileLoading);\n\n  if (loading || !user) {\n    return { user: null, loading };\n  }\n\n  // If there is a user but no profile yet, we are still technically loading the full user object\n  if (!userProfile) return { user: null, loading: true };\n\n  return { user: { ...user, ...userProfile } as User & UserProfile, loading: false };\n}\n"],"names":[],"mappings":";;;;AAEA;AAAA;AACA;AACA;AACA;;AALA;;;;;AAcO,SAAS;;IACd,MAAM,YAAY,IAAA,+JAAY;IAC9B,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE,GAAG,IAAA,8JAAW;IAE3C,MAAM,iBAAiB,IAAA,0JAAe;mDACpC,IAAO,OAAO,IAAA,6KAAG,EAAC,WAAW,SAAS,KAAK,GAAG,IAAI;kDAClD;QAAC;QAAM;KAAU,EACjB;IAGF,MAAM,EAAE,MAAM,WAAW,EAAE,WAAW,cAAc,EAAE,GAAG,IAAA,wJAAM,EAC7D;IAGF,MAAM,UAAU,iBAAkB,CAAC,CAAC,QAAQ;IAE5C,IAAI,WAAW,CAAC,MAAM;QACpB,OAAO;YAAE,MAAM;YAAM;QAAQ;IAC/B;IAEA,+FAA+F;IAC/F,IAAI,CAAC,aAAa,OAAO;QAAE,MAAM;QAAM,SAAS;IAAK;IAErD,OAAO;QAAE,MAAM;YAAE,GAAG,IAAI;YAAE,GAAG,WAAW;QAAC;QAAyB,SAAS;IAAM;AACnF;GAxBgB;;QACI,+JAAY;QACE,8JAAW;QAEpB,0JAAe;QAMmB,wJAAM","debugId":null}},
    {"offset": {"line": 1053, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/firebase/errors.ts"],"sourcesContent":["'use client';\nimport { getAuth, type User } from 'firebase/auth';\n\ntype SecurityRuleContext = {\n  path: string;\n  operation: 'get' | 'list' | 'create' | 'update' | 'delete' | 'write';\n  requestResourceData?: any;\n};\n\ninterface FirebaseAuthToken {\n  name: string | null;\n  email: string | null;\n  email_verified: boolean;\n  phone_number: string | null;\n  sub: string;\n  firebase: {\n    identities: Record<string, string[]>;\n    sign_in_provider: string;\n    tenant: string | null;\n  };\n}\n\ninterface FirebaseAuthObject {\n  uid: string;\n  token: FirebaseAuthToken;\n}\n\ninterface SecurityRuleRequest {\n  auth: FirebaseAuthObject | null;\n  method: string;\n  path: string;\n  resource?: {\n    data: any;\n  };\n}\n\n/**\n * Builds a security-rule-compliant auth object from the Firebase User.\n * @param currentUser The currently authenticated Firebase user.\n * @returns An object that mirrors request.auth in security rules, or null.\n */\nfunction buildAuthObject(currentUser: User | null): FirebaseAuthObject | null {\n  if (!currentUser) {\n    return null;\n  }\n\n  const token: FirebaseAuthToken = {\n    name: currentUser.displayName,\n    email: currentUser.email,\n    email_verified: currentUser.emailVerified,\n    phone_number: currentUser.phoneNumber,\n    sub: currentUser.uid,\n    firebase: {\n      identities: currentUser.providerData.reduce((acc, p) => {\n        if (p.providerId) {\n          acc[p.providerId] = [p.uid];\n        }\n        return acc;\n      }, {} as Record<string, string[]>),\n      sign_in_provider: currentUser.providerData[0]?.providerId || 'custom',\n      tenant: currentUser.tenantId,\n    },\n  };\n\n  return {\n    uid: currentUser.uid,\n    token: token,\n  };\n}\n\n/**\n * Builds the complete, simulated request object for the error message.\n * It safely tries to get the current authenticated user.\n * @param context The context of the failed Firestore operation.\n * @returns A structured request object.\n */\nfunction buildRequestObject(context: SecurityRuleContext): SecurityRuleRequest {\n  let authObject: FirebaseAuthObject | null = null;\n  try {\n    // Safely attempt to get the current user.\n    const firebaseAuth = getAuth();\n    const currentUser = firebaseAuth.currentUser;\n    if (currentUser) {\n      authObject = buildAuthObject(currentUser);\n    }\n  } catch {\n    // This will catch errors if the Firebase app is not yet initialized.\n    // In this case, we'll proceed without auth information.\n  }\n\n  return {\n    auth: authObject,\n    method: context.operation,\n    path: `/databases/(default)/documents/${context.path}`,\n    resource: context.requestResourceData ? { data: context.requestResourceData } : undefined,\n  };\n}\n\n/**\n * Builds the final, formatted error message for the LLM.\n * @param requestObject The simulated request object.\n * @returns A string containing the error message and the JSON payload.\n */\nfunction buildErrorMessage(requestObject: SecurityRuleRequest): string {\n  return `Missing or insufficient permissions: The following request was denied by Firestore Security Rules:\n${JSON.stringify(requestObject, null, 2)}`;\n}\n\n/**\n * A custom error class designed to be consumed by an LLM for debugging.\n * It structures the error information to mimic the request object\n * available in Firestore Security Rules.\n */\nexport class FirestorePermissionError extends Error {\n  public readonly request: SecurityRuleRequest;\n\n  constructor(context: SecurityRuleContext) {\n    const requestObject = buildRequestObject(context);\n    super(buildErrorMessage(requestObject));\n    this.name = 'FirebaseError';\n    this.request = requestObject;\n  }\n}\n"],"names":[],"mappings":";;;;;AACA;AAAA;AADA;;;AAoCA;;;;CAIC,GACD,SAAS,gBAAgB,WAAwB;QAkBzB;IAjBtB,IAAI,CAAC,aAAa;QAChB,OAAO;IACT;IAEA,MAAM,QAA2B;QAC/B,MAAM,YAAY,WAAW;QAC7B,OAAO,YAAY,KAAK;QACxB,gBAAgB,YAAY,aAAa;QACzC,cAAc,YAAY,WAAW;QACrC,KAAK,YAAY,GAAG;QACpB,UAAU;YACR,YAAY,YAAY,YAAY,CAAC,MAAM,CAAC,CAAC,KAAK;gBAChD,IAAI,EAAE,UAAU,EAAE;oBAChB,GAAG,CAAC,EAAE,UAAU,CAAC,GAAG;wBAAC,EAAE,GAAG;qBAAC;gBAC7B;gBACA,OAAO;YACT,GAAG,CAAC;YACJ,kBAAkB,EAAA,6BAAA,YAAY,YAAY,CAAC,EAAE,cAA3B,iDAAA,2BAA6B,UAAU,KAAI;YAC7D,QAAQ,YAAY,QAAQ;QAC9B;IACF;IAEA,OAAO;QACL,KAAK,YAAY,GAAG;QACpB,OAAO;IACT;AACF;AAEA;;;;;CAKC,GACD,SAAS,mBAAmB,OAA4B;IACtD,IAAI,aAAwC;IAC5C,IAAI;QACF,0CAA0C;QAC1C,MAAM,eAAe,IAAA,wMAAO;QAC5B,MAAM,cAAc,aAAa,WAAW;QAC5C,IAAI,aAAa;YACf,aAAa,gBAAgB;QAC/B;IACF,EAAE,UAAM;IACN,qEAAqE;IACrE,wDAAwD;IAC1D;IAEA,OAAO;QACL,MAAM;QACN,QAAQ,QAAQ,SAAS;QACzB,MAAM,AAAC,kCAA8C,OAAb,QAAQ,IAAI;QACpD,UAAU,QAAQ,mBAAmB,GAAG;YAAE,MAAM,QAAQ,mBAAmB;QAAC,IAAI;IAClF;AACF;AAEA;;;;CAIC,GACD,SAAS,kBAAkB,aAAkC;IAC3D,OAAO,AAAC,uGAC+B,OAAvC,KAAK,SAAS,CAAC,eAAe,MAAM;AACtC;AAOO,MAAM,iCAAiC;IAG5C,YAAY,OAA4B,CAAE;QACxC,MAAM,gBAAgB,mBAAmB;QACzC,KAAK,CAAC,kBAAkB,iBAJ1B,+KAAgB,WAAhB,KAAA;QAKE,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,OAAO,GAAG;IACjB;AACF","debugId":null}},
    {"offset": {"line": 1145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/firebase/non-blocking-updates.tsx"],"sourcesContent":["'use client';\n    \nimport {\n  setDoc,\n  addDoc,\n  updateDoc,\n  deleteDoc,\n  CollectionReference,\n  DocumentReference,\n  SetOptions,\n} from 'firebase/firestore';\nimport { errorEmitter } from '@/firebase/error-emitter';\nimport {FirestorePermissionError} from '@/firebase/errors';\n\n/**\n * Initiates a setDoc operation for a document reference.\n * Does NOT await the write operation internally.\n */\nexport function setDocumentNonBlocking(docRef: DocumentReference, data: any, options: SetOptions) {\n  setDoc(docRef, data, options).catch(error => {\n    errorEmitter.emit(\n      'permission-error',\n      new FirestorePermissionError({\n        path: docRef.path,\n        operation: 'write', // or 'create'/'update' based on options\n        requestResourceData: data,\n      })\n    )\n  })\n  // Execution continues immediately\n}\n\n\n/**\n * Initiates an addDoc operation for a collection reference.\n * Does NOT await the write operation internally.\n * Returns the Promise for the new doc ref, but typically not awaited by caller.\n */\nexport function addDocumentNonBlocking(colRef: CollectionReference, data: any) {\n  const promise = addDoc(colRef, data)\n    .catch(error => {\n      errorEmitter.emit(\n        'permission-error',\n        new FirestorePermissionError({\n          path: colRef.path,\n          operation: 'create',\n          requestResourceData: data,\n        })\n      )\n    });\n  return promise;\n}\n\n\n/**\n * Initiates an updateDoc operation for a document reference.\n * Does NOT await the write operation internally.\n */\nexport function updateDocumentNonBlocking(docRef: DocumentReference, data: any) {\n  updateDoc(docRef, data)\n    .catch(error => {\n      errorEmitter.emit(\n        'permission-error',\n        new FirestorePermissionError({\n          path: docRef.path,\n          operation: 'update',\n          requestResourceData: data,\n        })\n      )\n    });\n}\n\n\n/**\n * Initiates a deleteDoc operation for a document reference.\n * Does NOT await the write operation internally.\n */\nexport function deleteDocumentNonBlocking(docRef: DocumentReference) {\n  deleteDoc(docRef)\n    .catch(error => {\n      errorEmitter.emit(\n        'permission-error',\n        new FirestorePermissionError({\n          path: docRef.path,\n          operation: 'delete',\n        })\n      )\n    });\n}"],"names":[],"mappings":";;;;;;;;;;AAEA;AAAA;AASA;AACA;AAZA;;;;AAkBO,SAAS,uBAAuB,MAAyB,EAAE,IAAS,EAAE,OAAmB;IAC9F,IAAA,gLAAM,EAAC,QAAQ,MAAM,SAAS,KAAK,CAAC,CAAA;QAClC,sJAAY,CAAC,IAAI,CACf,oBACA,IAAI,wJAAwB,CAAC;YAC3B,MAAM,OAAO,IAAI;YACjB,WAAW;YACX,qBAAqB;QACvB;IAEJ;AACA,kCAAkC;AACpC;AAQO,SAAS,uBAAuB,MAA2B,EAAE,IAAS;IAC3E,MAAM,UAAU,IAAA,gLAAM,EAAC,QAAQ,MAC5B,KAAK,CAAC,CAAA;QACL,sJAAY,CAAC,IAAI,CACf,oBACA,IAAI,wJAAwB,CAAC;YAC3B,MAAM,OAAO,IAAI;YACjB,WAAW;YACX,qBAAqB;QACvB;IAEJ;IACF,OAAO;AACT;AAOO,SAAS,0BAA0B,MAAyB,EAAE,IAAS;IAC5E,IAAA,mLAAS,EAAC,QAAQ,MACf,KAAK,CAAC,CAAA;QACL,sJAAY,CAAC,IAAI,CACf,oBACA,IAAI,wJAAwB,CAAC;YAC3B,MAAM,OAAO,IAAI;YACjB,WAAW;YACX,qBAAqB;QACvB;IAEJ;AACJ;AAOO,SAAS,0BAA0B,MAAyB;IACjE,IAAA,mLAAS,EAAC,QACP,KAAK,CAAC,CAAA;QACL,sJAAY,CAAC,IAAI,CACf,oBACA,IAAI,wJAAwB,CAAC;YAC3B,MAAM,OAAO,IAAI;YACjB,WAAW;QACb;IAEJ;AACJ","debugId":null}},
    {"offset": {"line": 1207, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/firebase/non-blocking-login.tsx"],"sourcesContent":["'use client';\nimport {\n  Auth, // Import Auth type for type hinting\n  signInAnonymously,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  // Assume getAuth and app are initialized elsewhere\n} from 'firebase/auth';\n\n/** Initiate anonymous sign-in (non-blocking). */\nexport function initiateAnonymousSignIn(authInstance: Auth): void {\n  // CRITICAL: Call signInAnonymously directly. Do NOT use 'await signInAnonymously(...)'.\n  signInAnonymously(authInstance);\n  // Code continues immediately. Auth state change is handled by onAuthStateChanged listener.\n}\n\n/** Initiate email/password sign-up (non-blocking). */\nexport function initiateEmailSignUp(authInstance: Auth, email: string, password: string): void {\n  // CRITICAL: Call createUserWithEmailAndPassword directly. Do NOT use 'await createUserWithEmailAndPassword(...)'.\n  createUserWithEmailAndPassword(authInstance, email, password);\n  // Code continues immediately. Auth state change is handled by onAuthStateChanged listener.\n}\n\n/** Initiate email/password sign-in (non-blocking). */\nexport function initiateEmailSignIn(authInstance: Auth, email: string, password: string): void {\n  // CRITICAL: Call signInWithEmailAndPassword directly. Do NOT use 'await signInWithEmailAndPassword(...)'.\n  signInWithEmailAndPassword(authInstance, email, password);\n  // Code continues immediately. Auth state change is handled by onAuthStateChanged listener.\n}\n"],"names":[],"mappings":";;;;;;;;AACA;AAAA;AADA;;AAUO,SAAS,wBAAwB,YAAkB;IACxD,wFAAwF;IACxF,IAAA,kNAAiB,EAAC;AAClB,2FAA2F;AAC7F;AAGO,SAAS,oBAAoB,YAAkB,EAAE,KAAa,EAAE,QAAgB;IACrF,kHAAkH;IAClH,IAAA,+NAA8B,EAAC,cAAc,OAAO;AACpD,2FAA2F;AAC7F;AAGO,SAAS,oBAAoB,YAAkB,EAAE,KAAa,EAAE,QAAgB;IACrF,0GAA0G;IAC1G,IAAA,2NAA0B,EAAC,cAAc,OAAO;AAChD,2FAA2F;AAC7F","debugId":null}},
    {"offset": {"line": 1241, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/firebase/index.ts"],"sourcesContent":["'use client';\n\nimport { firebaseConfig } from '@/firebase/config';\nimport { initializeApp, getApps, getApp, FirebaseApp } from 'firebase/app';\nimport { getAuth } from 'firebase/auth';\nimport { getFirestore } from 'firebase/firestore'\n\n// IMPORTANT: DO NOT MODIFY THIS FUNCTION\nexport function initializeFirebase() {\n  if (!getApps().length) {\n    // Important! initializeApp() is called without any arguments because Firebase App Hosting\n    // integrates with the initializeApp() function to provide the environment variables needed to\n    // populate the FirebaseOptions in production. It is critical that we attempt to call initializeApp()\n    // without arguments.\n    let firebaseApp;\n    try {\n      // Attempt to initialize via Firebase App Hosting environment variables\n      firebaseApp = initializeApp();\n    } catch (e) {\n      // Only warn in production because it's normal to use the firebaseConfig to initialize\n      // during development\n      if (process.env.NODE_ENV === \"production\") {\n        console.warn('Automatic initialization failed. Falling back to firebase config object.', e);\n      }\n      firebaseApp = initializeApp(firebaseConfig);\n    }\n\n    return getSdks(firebaseApp);\n  }\n\n  // If already initialized, return the SDKs with the already initialized App\n  return getSdks(getApp());\n}\n\nexport function getSdks(firebaseApp: FirebaseApp) {\n  return {\n    firebaseApp,\n    auth: getAuth(firebaseApp),\n    firestore: getFirestore(firebaseApp)\n  };\n}\n\nexport * from './provider';\nexport * from './client-provider';\nexport * from './firestore/use-collection';\nexport * from './firestore/use-doc';\nexport * from './firestore/firestore-store';\nexport * from './firestore/firestore-dev-guards';\nexport * from './auth/use-user';\nexport * from './non-blocking-updates';\nexport * from './non-blocking-login';\nexport * from './errors';\nexport * from './error-emitter';\n"],"names":[],"mappings":";;;;;;AAqBU;AAnBV;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApDA;;;;;AAQO,SAAS;IACd,IAAI,CAAC,IAAA,kLAAO,IAAG,MAAM,EAAE;QACrB,0FAA0F;QAC1F,8FAA8F;QAC9F,qGAAqG;QACrG,qBAAqB;QACrB,IAAI;QACJ,IAAI;YACF,uEAAuE;YACvE,cAAc,IAAA,wLAAa;QAC7B,EAAE,OAAO,GAAG;YACV,sFAAsF;YACtF,qBAAqB;YACrB;;YAGA,cAAc,IAAA,wLAAa,EAAC,8IAAc;QAC5C;QAEA,OAAO,QAAQ;IACjB;IAEA,2EAA2E;IAC3E,OAAO,QAAQ,IAAA,iLAAM;AACvB;AAEO,SAAS,QAAQ,WAAwB;IAC9C,OAAO;QACL;QACA,MAAM,IAAA,wMAAO,EAAC;QACd,WAAW,IAAA,sLAAY,EAAC;IAC1B;AACF","debugId":null}},
    {"offset": {"line": 1318, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Health/Desktop/Rhulani%20Tuck%20Shop/src/firebase/client-provider.tsx"],"sourcesContent":["'use client';\n\nimport React, { useMemo, type ReactNode } from 'react';\nimport { FirebaseProvider } from '@/firebase/provider';\nimport { initializeFirebase } from '@/firebase';\n\ninterface FirebaseClientProviderProps {\n  children: ReactNode;\n}\n\nexport function FirebaseClientProvider({ children }: FirebaseClientProviderProps) {\n  const firebaseServices = useMemo(() => {\n    // Initialize Firebase on the client side, once per component mount.\n    return initializeFirebase();\n  }, []); // Empty dependency array ensures this runs only once on mount\n\n  return (\n    <FirebaseProvider\n      firebaseApp={firebaseServices.firebaseApp}\n      auth={firebaseServices.auth}\n      firestore={firebaseServices.firestore}\n    >\n      {children}\n    </FirebaseProvider>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAUO,SAAS,uBAAuB,KAAyC;QAAzC,EAAE,QAAQ,EAA+B,GAAzC;;IACrC,MAAM,mBAAmB,IAAA,wKAAO;4DAAC;YAC/B,oEAAoE;YACpE,OAAO,IAAA,iKAAkB;QAC3B;2DAAG,EAAE,GAAG,8DAA8D;IAEtE,qBACE,6LAAC,mKAAgB;QACf,aAAa,iBAAiB,WAAW;QACzC,MAAM,iBAAiB,IAAI;QAC3B,WAAW,iBAAiB,SAAS;kBAEpC;;;;;;AAGP;GAfgB;KAAA","debugId":null}}]
}